package test;

import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;

public class forgotPassword {
	private Map<String, String> users;
	private emailService es;
	
	public forgotPassword() {
		this.users=new HashMap<>();
		this.es=es;
	}
	
	public void registerUser(String email, String pwd) {
		//users.put("alisha.khan1@accolitedigital.com", "alisha");
		//users.put("alisha.khan2@accolitedigital.com", "khan");
		users.put(email, pwd);
	}
	
	public boolean resetPassword(String email) {
		if(users.containsKey(email)) {
			es.resent(email);
			return true;
		}
		return false;
	}
	
	private boolean login(String email, String pwd) {
		if(users.containsKey(email) && users.get(email).equals(pwd)) {
			return true;
		}
		return false;
	}
	
	public static void main(String args[]) {
		forgotPassword fp=new forgotPassword();
		Scanner sc=new Scanner(System.in);
		
		System.out.println("Enter your email: ");
		String email=sc.nextLine();
		
		System.out.println("Enter your password: ");
		String pwd=sc.nextLine();
		
		fp.registerUser(email, pwd);
		
		System.out.println("Email Sent");
		fp.resetPassword(email);
		
		System.out.println("Enter your email: ");
		String loginemail=sc.nextLine();
		
		System.out.println("Enter your password: ");
		String loginpwd=sc.nextLine();
		
		if(fp.login(loginemail, loginpwd)) {
			System.out.println("Login Successful");
		}
		else {
			System.out.println("Invalid email or password");
		}
		sc.close();
	}
	
}

class emailService{
	public void reset(String email) {
		System.out.println("Password reset sent to email "+ email);
	}
}


